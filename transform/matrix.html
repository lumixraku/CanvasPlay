<!DOCTYPE html>
<html>

<body>
    <canvas id="myCanvas" width="400" height="400" style="border:1px solid #000000;"></canvas>
    <script>
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

        // 假设原始尺寸为100x50
        const originalWidth = 100;
        const originalHeight = 50;

        ctx.fillRect(0 , 0, originalWidth, originalHeight);

        // 新的尺寸是原始尺寸的2倍
        const newWidth = originalWidth * 2;
        const newHeight = originalHeight * 2;

        // 矩形的中心点
        const centerX = originalWidth / 2;
        const centerY = originalHeight / 2;

        // 缩放因子
        const scale = 2;

        // 旋转角度（45度）
        const angleInRadians = Math.PI / 4;

        // 应用变换
        // 在Canvas中，变换是按照特定的顺序应用的，通常是先缩放，然后旋转，最后平移
        ctx.transform(scale, 0, 0, scale, -centerX, -centerY);
        ctx.rotate(angleInRadians);
        ctx.translate(50, 100);

        // 绘制矩形
        ctx.fillStyle = 'blue';
        ctx.fillRect(-newWidth / 2, -newHeight / 2, newWidth, newHeight);

        // 重置变换状态，以便后续绘制不受之前变换的影响
        ctx.setTransform(1, 0, 0, 1, 0, 0);
    </script>
</body>

</html>