<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <canvas id="mycanvas"></canvas>
  <script type="importmap">
      {
          "imports": {
              "bezier.js": "/public/bezierinfo/bezier.js"
          }
      }
  </script>
  <script type="module">

    import { Bezier } from "bezier.js";

    const cvs = document.getElementById("mycanvas");
    const size = 650;
    cvs.width = size;
    cvs.height = size;
    let ctx = cvs.getContext("2d");

    // now do things. Like this:
    const curve = new Bezier(100, 25, 10, 90, 110, 100, 150, 195);

    const p = curve.points,
      p1 = p[0],
      p2 = p[1],
      p3 = p[2],
      p4 = p[3];

    // draw the curve
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.bezierCurveTo(p2.x, p2.y, p3.x, p3.y, p4.x, p4.y);
    ctx.stroke();
    ctx.closePath();


    var LUT = curve.getLUT(16);
    LUT.forEach(p => {
      ctx.beginPath();
      ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
      ctx.fillStyle = 'blue'; // 设置填充颜色
      ctx.fill(); // 填充圆，使其看起来像一个圆点
      ctx.closePath();

    });
    // what do we know about the curve?
    let len = curve.length();
    let bbox = JSON.stringify(curve.bbox());
    console.log(bbox);


  </script>
</body>

</html>