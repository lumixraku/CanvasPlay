<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <canvas id="myCanvas" tabindex="1" width="1830" height="1610" style="width: 915px; height: 805px;;"></canvas>
  <script>
    // 获取canvas元素
    var canvas = document.getElementById('myCanvas');
    var ctx = canvas.getContext('2d');
    const x = 50;
    const y = 50;
    const w = 1900;
    const h = 50;
    ctx.imageSmoothingEnabled = false;
    ctx.scale(2.2, 2.2);
    ctx.translate(-51, 51)
    // 绘制一个矩形，填充为红色
    ctx.fillStyle = 'red';
    ctx.fillRect(x, y, w, h);

    // 在红色矩形上绘制一个白色矩形
    ctx.fillStyle = 'white';
    ctx.fillRect(x, y, w, h);

    ctx.fillRectWithZoom = function (x, y, width, height)  {
      const m = this.getTransform();
      const scaleX = m.a;
      const scaleY = m.d;

      x = Math.round(x * scaleX) / scaleX;
      y = Math.round(y * scaleY) / scaleY;
      width = Math.round(width * scaleX) / scaleX;
      height = Math.round(height * scaleY) / scaleY;
      this.fillRect(Math.floor(x), Math.floor(y), Math.ceil(width), Math.ceil(height));
    }

    ctx.translateWithZoom = function (x, y) {
      const m = this.getTransform();
      const scaleX = m.a;
      const scaleY = m.d;
      x = Math.round(x * scaleX) / scaleX;
      y = Math.round(y * scaleY) / scaleY;
      this.translate(x, y);
    }


    ctx.translateWithZoom(-50, 151)
    // 绘制一个矩形，填充为红色
    ctx.fillStyle = 'red';
    ctx.fillRectWithZoom(x, y, w, h);

    // 在红色矩形上绘制一个白色矩形
    ctx.fillStyle = 'white';
    ctx.fillRectWithZoom(x, y, w, h);
  </script>
</body>

</html>